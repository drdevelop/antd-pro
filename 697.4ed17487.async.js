(self.webpackChunkantd_pro_x=self.webpackChunkantd_pro_x||[]).push([[697],{15697:function(S,T,i){"use strict";i.r(T),i.d(T,{default:function(){return be},registerComponent:function(){return ge},registerComponents:function(){return Pe}});var Z=i(57213),l=i.n(Z),F=i(54306),P=i.n(F),R=i(12342),x=i.n(R),f=i(50959),N=i(87383),K=i(25359),Y=i.n(K),k=i(49811),J=i.n(k),Q=i(52510),U=i.n(Q),H=i(48474),w=i(57154),b=i(62870),E=i(23116),X=i(23551),A=i(31159),m=i(11527),q=function(e){var n=e.value,t=e.onChange,r=e.className,o=e.style,u=e.data;return(0,m.jsx)(A.ZP.Group,{className:r,style:o,value:n,onChange:t,children:u==null?void 0:u.map(function(v){return(0,m.jsx)(A.ZP,{value:v.value,children:v.label})})})},_=q,L=i(90881),ee=function(e){var n=e.value,t=e.onChange,r=e.className,o=e.style,u=e.data,v=e.elementSpecProps;return(0,m.jsx)(L.Z.Group,l()(l()({className:r,style:o,value:n,onChange:t},v),{},{children:u==null?void 0:u.map(function(C){return(0,m.jsx)(L.Z,{value:C.value,children:C.label})})}))},te=ee,re=function(e,n){var t=function(o){var u=l()(l()({},typeof n=="function"?n(o):n),o);return(0,m.jsx)(e,l()({},u))};return t.displayName="MultipleSelect",t},j=re,ne=["elementSpecProps"],ae=function(e){var n=function(r){var o=r.elementSpecProps,u=x()(r,ne),v=l()(l()({},u),o);return(0,m.jsx)(e,l()({},v))};return n.displayName="withFieldMapToProps",n},g=ae,oe=j(H.Z,function(a){return{showSearch:!0,filterOption:function(n,t){var r;return(t==null||(r=t.children)===null||r===void 0?void 0:r.toLowerCase().indexOf(n.toLowerCase()))>=0},options:a.data}}),ie=j(H.Z,function(a){return{showSearch:!0,mode:"multiple",filterOption:function(n,t){var r;return(t==null||(r=t.children)===null||r===void 0?void 0:r.toLowerCase().indexOf(n.toLowerCase()))>=0},options:a.data}}),ue=j(w.Z,function(a){return{treeData:a.data,treeCheckable:!0,showCheckedStrategy:w.Z.SHOW_PARENT,treeDataSimpleMode:!0,multiple:!0,showSearch:!0,treeNodeFilterProp:"title"}}),le=j(b.Z,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}),ce=j(b.Z.RangePicker,{format:"YYYY-MM-DD HH:mm:ss"}),se=j(b.Z.RangePicker,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}),fe=j(b.Z.RangePicker,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}),de=j(E.Z,function(a){return{checked:a.value}}),me=j(E.Z,function(a){return{optionType:"button",options:a.data}}),ve={input:g(X.Z),select:g(oe),multipleSelect:g(ie),radio:g(_),radioButton:g(me),checkbox:g(te),treeSelect:g(ue),datePicker:g(le),dateRangePicker:g(ce),dateTimeRangePicker:g(se),timeRangePicker:g(fe),switch:g(de)},he=ve,G=he;function ge(a){Object.assign(G,U()({},a.name,a))}function Pe(a){Object.assign(G,a)}var Se=G,Fe=function(e){var n=e.components,t=e.style,r=e.className,o=e.type,u=e.component,v=e.fieldName,C=e.value,I=e.onChange,y=e.data,c=e.elementSpecProps,d={style:t,className:r,id:v,value:C,onChange:I,data:y,elementSpecProps:c},h=l()(l()({},Se),n);if(o==="custom"&&u)return f.isValidElement(u)?f.cloneElement(u,d):f.createElement(u,d);var p=h[o];return p?(0,m.jsx)(p,l()({},d)):(console.error("component ".concat(o," is not register")),null)},ye=Fe,Re=function(e){var n=e.dependencies,t=(0,f.useState)(e.data),r=P()(t,2),o=r[0],u=r[1],v=function(){var y=J()(Y()().mark(function c(d,h){var p;return Y()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,d(h);case 2:p=D.sent,u(p);case 4:case"end":return D.stop()}},c)}));return function(d,h){return y.apply(this,arguments)}}();(0,f.useEffect)(function(){typeof e.remoteData=="function"?v(e.remoteData):e.data&&u(e.data)},[e.remoteData,e.data]);var C=function(){var c=e.type,d=e.component;return c==="custom"||f.isValidElement(d)?!1:typeof d=="function"},I=function(c){var d={name:c.fieldName,label:c.label,dependencies:c.dependencies},h=l()({style:c.style,className:c.className,components:c.components,data:o,type:c.type,component:c.component},c.elementSpecProps);return(0,m.jsx)(N.Z.Item,l()(l()({},d),{},{children:(0,m.jsx)(ye,l()({},h))}))};return n?(0,m.jsx)(N.Z.Item,{noStyle:!0,dependencies:n,children:function(c){var d=l()({},e);if(C()){var h=d.component(c);if(h===null)return null;delete d.component,h.remoteData&&!o&&v(h.remoteData),Object.assign(d,h)}return I(d)}}):I(e)},je=Re;function pe(a,e,n,t){var r,o;return(0,m.jsx)(je,l()(l()({components:n},a[e]),(r=a[e])===null||r===void 0||(o=r.mapStateToSchema)===null||o===void 0?void 0:o.call(r,t)),e)}var W=function(e){if(!(e instanceof Array))return e;for(var n={},t=0;t<e.length;t++){var r=e[t];n[r.fieldName]=r}return n};function xe(a,e){var n=W(a);return Object.keys(e).map(function(t){var r;if((r=n[t])!==null&&r!==void 0&&r.fusion){var o;e[t]=(o=n[t])===null||o===void 0?void 0:o.fusion(e[t])}}),e}function Ce(a,e){var n=W(a);return Object.keys(e).map(function(t){var r;if((r=n[t])!==null&&r!==void 0&&r.fission){var o;e[t]=(o=n[t])===null||o===void 0?void 0:o.fission(e[t])}}),e}var De=function(a,e,n){var t=e.getFieldsValue;a.getFieldsValue=function(){var r=t();return Ce(n,r)}},Oe=function(a,e,n){var t=e.setFieldsValue;a.setFieldsValue=function(r){var o=xe(n,r);t(o)}},$=[De,Oe];function Ne(a,e){for(var n=Object.keys(e),t=0;t<n.length;t++){var r=n[t];e.hasOwnProperty(r)&&(a[r]=e[r])}}function Ie(a,e,n){Ne(a,e);for(var t=0;t<$.length;t++){var r=$[t];r(a,e,n)}}var Me=Ie,Te=["enableValueAtomize","form","components","schema","schemaGroups","groupRender","groupsRender","globalState"],Ze=function(e,n){var t=e.enableValueAtomize,r=e.form,o=e.components,u=e.schema,v=e.schemaGroups,C=e.groupRender,I=e.groupsRender,y=e.globalState,c=x()(e,Te),d=N.Z.useForm(t?void 0:r),h=P()(d,1),p=h[0],V=(0,f.useRef)(t?r||{}:p),D=(0,f.useRef)(!1);t&&!D.current&&(D.current=!0,Me(V.current,p,u));var Ge=(0,f.useState)(0),z=P()(Ge,2),Ve=z[0],Ye=z[1];(0,f.useImperativeHandle)(n,function(){return l()({forceRefresh:function(){return Ye(function(s){return s++})}},V.current)});var He=(0,f.useMemo)(function(){var O={};return u instanceof Array?(u.forEach(function(s){O[s.fieldName]=s}),O):u},[u]),we=function(s){return s||[{list:u instanceof Array?u.map(function(M){return M.fieldName}):Object.keys(u)}]},Ee=function(s){return Object.values(s.list).map(function(M){return pe(He,M,o,y)})},Ae=function(s){return s},Le=function(s){var M=s.render||C||Ae;return M(Ee(s),s,y)},B=function(){var s=we(v),M=s==null?void 0:s.map(Le);return M},We=(0,f.useMemo)(function(){return I?I(B()):B()},[u,v,y,Ve]);return(0,m.jsx)(N.Z,l()(l()({form:p},c),{},{children:(0,m.jsxs)(m.Fragment,{children:[We,e.children]})}))},be=f.forwardRef(Ze)},12342:function(S,T,i){var Z=i(20006);function l(F,P){if(F==null)return{};var R=Z(F,P),x,f;if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(F);for(f=0;f<N.length;f++)x=N[f],!(P.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(F,x)&&(R[x]=F[x])}return R}S.exports=l,S.exports.__esModule=!0,S.exports.default=S.exports},20006:function(S){function T(i,Z){if(i==null)return{};var l={},F=Object.keys(i),P,R;for(R=0;R<F.length;R++)P=F[R],!(Z.indexOf(P)>=0)&&(l[P]=i[P]);return l}S.exports=T,S.exports.__esModule=!0,S.exports.default=S.exports}}]);
